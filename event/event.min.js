/*! Copyright (c) 2010-2011 Peter (Poetro) Galiba (http://poetro.hu/) MIT Licensed */
(function(c){function a(e){var f;if(!e){e=c.event}if(e.target){f=e.target}else{if(e.srcElement){f=e.srcElement}}if(f&&f.nodeType==3){f=f.parentNode}e.preventDefault=e.preventDefault||function(){this.returnValue=false};e.stopPropagation=e.stopPropagation||function(){this.cancelBubble=true};return f}function d(e){return function(g){var h=a(g),f=e.call(h,g);if(f===false){g.preventDefault();g.stopPropagation()}return f}}function b(h,n){var l=b,k,g,m,j,e=-1;if(!l.fl){l.fl=[]}k=l.fl;for(g=k.length-1;g>=0;g-=1){m=k[g];if(m&&m.original===h){e=g;j=m.generated;break}}if(n==="remove"){if(e!==-1){k[e].counter-=1;if(k[e].counter<=0){delete k[e]}}}else{if(n==="add"){if(e!==-1){k[e].counter+=1}else{j=d(h);k[k.length]={original:h,generated:j,counter:1}}}}return j}this.removeEvent=function(k,e,h){var j=b(h,"remove"),i=k.removeEventListener,g=k.detachEvent;if(i){i.call(k,e,j,false)}else{if(g){g.call(k,"on"+e,j)}else{k["on"+e]=null}}};this.addEvent=function(k,e,g){var j=b(g,"add"),i=k.addEventListener,h=k.attachEvent;if(i){i.call(k,e,j,false)}else{if(h){h.call(k,"on"+e,j)}else{k["on"+e]=j}}}}).call(this,this);
